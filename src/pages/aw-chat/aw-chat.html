<ion-header class="m-header aw-header">

    <ion-toolbar>
        <ion-buttons left>
            <button ion-button (click)="onClickClose()">
        <ion-icon name="ios-arrow-back-outline"></ion-icon>
      </button>
        </ion-buttons>
        <ion-title (click)="onClickTitle()">
            {{ mTexts.title }}
        </ion-title>
        <ion-buttons right>
            <button ion-button icon-only class="more-btn" (click)="onClickMore()">
          <ion-icon name="ios-more-outline"></ion-icon>
        </button>
        </ion-buttons>
    </ion-toolbar>

</ion-header>


<ion-content no-bounce>

    <div class="messages-container">
        <div class="message a3-container a3-items-end" [ngClass]="{'my-message':message.uId==mDatas.myId, 'a3-row-reverse':message.uId==mDatas.myId}" *ngFor="let message of messages;let i = index">
            <div *ngIf="message.uId!=mDatas.myId" class="avatar-container">
                <img *ngIf="message?.uId!=messages[i+1]?.uId" [src]="message.uAvatar">
            </div>
            <div class="message-detail">
                <div *ngIf="(message?.uId!=messages[i-1]?.uId) && (message.uId!=mDatas.myId)" class="name">{{ message.name }}</div>
                <div class="message-content">{{ message.content }}</div>
            </div>
        </div>
    </div>

</ion-content>

<ion-footer>

    <div class="chat-input-container a1-fill-parent a3-container">
        <div class="input-icons a3-container a3-items-center">
            <ion-icon name="aw-camera"></ion-icon>
        </div>
        <div class="msg-input a3-flex-1">
            <input class="a1-fill-parent" type="text" [(ngModel)]="mDatas.msgContent" [placeholder]="mTexts.inputPlaceholder" (click)="showKeyboard()">
        </div>
        <div class="input-icons a3-container a3-items-center">
            <ion-icon name="aw-send"></ion-icon>
        </div>
    </div>

</ion-footer>